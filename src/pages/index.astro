---
import Base from "../../src/layouts/Base.astro";
import fs from 'node:fs/promises';
const pageTitle = 'Kateiso · Enjoy Life, Enjoy with U.';
const pageDesc = 'Design notes on intelligent creative systems — essays, field notes, and toolkits by Kateiso.';
let gallery = [] as any[];
try {
  const raw = await fs.readFile('public/assets/data/gallery.json', 'utf8');
  const json = JSON.parse(raw);
  gallery = (json.items || []).slice(0, 9);
} catch {}
---
<Base title={pageTitle} description={pageDesc}>
  <section class="hero hero--subtle" id="top">
    <div class="hero__content">
      <p class="hero__kicker">Enjoy Life, Enjoy with U.</p>
      <h1 class="hero__title">Creative systems, built with care.</h1>
      <p class="hero__subtitle">Notes from an ENTJ studying at BJTU × Lancaster. Exploring XR, curious about Web3, and redesigning everyday workflows.</p>
      <div class="hero__actions">
        <a class="button button--primary" href="/blog/">Read the journal</a>
        <a class="button button--ghost" href="/photos/">Photos</a>
      </div>
    </div>
    <div class="hero__meta">
      <div class="hero__meta-card">
        <span class="hero__meta-label">Current interests</span>
        <p>XR, creative intelligence, systems thinking, Web3, digital operations.</p>
      </div>
      <div class="hero__meta-card">
        <span class="hero__meta-label">Based in</span>
        <p>Beijing · Global mindset</p>
      </div>
      <div class="hero__meta-card">
        <span class="hero__meta-label">Themes</span>
        <p>First Principle · One more step · System thinking</p>
      </div>
    </div>
  </section>

  <section class="section" id="about">
    <div class="section__intro">
      <h2>About Kateiso</h2>
      <p class="section__lede">An ENTJ studying at BJTU and Lancaster University; diving into XR; curious about Web3 and restaurant digitalization.</p>
    </div>
    <div class="about-grid">
      <article class="about-grid__item">
        <h3>Why this space exists</h3>
        <p>To document systems thinking applied to expressive media and to share frameworks for working with intelligent tools.</p>
      </article>
      <article class="about-grid__item">
        <h3>People I design for</h3>
        <p>Curious creatives and founders who want bold ideas paired with clear operational models.</p>
      </article>
      <article class="about-grid__item">
        <h3>What’s next</h3>
        <p>Journal first. Portfolio and experiments to follow. Photos will be added soon — a minimal yet artistic, lively visual style.</p>
      </article>
    </div>
  </section>

  {gallery.length > 0 && (
    <section class="section" id="moments">
      <div class="section__intro section__intro--split">
        <div>
          <h2>Recent moments</h2>
          <p class="section__lede">A minimal yet artistic, lively visual diary.</p>
        </div>
        <a class="section__link" href="/blog/">Read the journal →</a>
      </div>
      <div class="gallery-grid">
        {gallery.map((it) => (
          <figure class="gallery-item">
            {it.video ? (
              <video class="gallery-item__media" src={it.video} poster={it.image} muted playsinline preload="metadata" loop></video>
            ) : (
              <img class="gallery-item__media" src={it.image} alt={it.title} loading="lazy" />
            )}
            <figcaption class="gallery-item__meta">
              <span class="gallery-item__date">{it.date}</span>
              <span aria-hidden="true">·</span>
              <span class="gallery-item__title">{it.title}</span>
            </figcaption>
          </figure>
        ))}
      </div>
    </section>
  )}

  <section class="section section--alt" id="journal">
    <div class="section__intro section__intro--split">
      <div>
        <h2>Latest from the journal</h2>
        <p class="section__lede">Essays and field notes on creative systems and intelligent workflows.</p>
      </div>
      <a class="section__link" href="/blog/">View all posts →</a>
    </div>
    <!-- Latest posts will appear on the blog page; this can show curated picks later. -->
    <div class="journal-grid">
      <article class="journal-card">
        <p class="journal-card__meta">Guide · October 2025</p>
        <h3><a href="/blog/posts/installing-comet-with-clash-proxy-windows.html">Installing Comet on Windows with Clash Proxy</a></h3>
        <p class="journal-card__summary">Run the Comet installer behind Clash for Windows by setting temporary PowerShell proxy vars and avoiding common connection pitfalls.</p>
      </article>
      <article class="journal-card">
        <p class="journal-card__meta">Field note · March 2024</p>
        <h3><a href="/blog/posts/orchestrating-creative-systems.html">Orchestrating Creative Systems with AI Copilots</a></h3>
        <p class="journal-card__summary">A systems-first approach to pairing human intuition with orchestration layers.</p>
      </article>
      <article class="journal-card">
        <p class="journal-card__meta">Essay · February 2024</p>
        <h3><a href="/blog/posts/designing-for-emergent-storytelling.html">Designing for Emergent Storytelling</a></h3>
        <p class="journal-card__summary">Design narrative scaffolds that adapt to new inputs without losing cohesion.</p>
      </article>
    </div>
  </section>

  <section class="section section--alt" id="contact">
    <div class="section__intro">
      <h2>Let’s collaborate</h2>
      <p class="section__lede">Reach out for project inquiries, research chats, or to swap ideas.</p>
    </div>
    <div class="contact-card">
      <p class="contact-card__label">Email</p>
      <a class="contact-card__link" href="mailto:C.yibo2@gmail.com">C.yibo2@gmail.com</a>
      <p class="contact-card__label">Social</p>
      <ul class="contact-card__social">
        <li><a href="https://x.com/KateisoCao" rel="me noopener" target="_blank">Twitter</a></li>
        <li><a href="https://www.douyin.com/user/MS4wLjABAAAAHCcB9BtLlZP-iSutvkW8oHPPHeSj_IR9rBa5uIq0L3drZDGzCcLmAaTFCozmXLH5?from_tab_name=main" rel="me noopener" target="_blank">Douyin</a></li>
      </ul>
    </div>
  </section>
</Base>
