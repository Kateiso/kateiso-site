<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Installing Comet on Windows with Clash Proxy · Kateiso</title><meta name="description" content="Install Comet reliably behind Clash for Windows by running the installer through temporary PowerShell proxy variables and avoiding common connection pitfalls."><meta property="og:title" content="Installing Comet on Windows with Clash Proxy · Kateiso"><meta property="og:description" content="Install Comet reliably behind Clash for Windows by running the installer through temporary PowerShell proxy variables and avoiding common connection pitfalls."><meta property="og:type" content="article"><meta property="og:url" content="https://kateiso.dev/en/blog/posts/installing-comet-with-clash-proxy-windows.html"><meta property="og:image" content="https://kateiso.dev/favicon.jpg"><meta property="og:locale" content="en"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Installing Comet on Windows with Clash Proxy · Kateiso"><meta name="twitter:description" content="Install Comet reliably behind Clash for Windows by running the installer through temporary PowerShell proxy variables and avoiding common connection pitfalls."><meta name="twitter:image" content="https://kateiso.dev/favicon.jpg"><link rel="canonical" href="https://kateiso.dev/en/blog/posts/installing-comet-with-clash-proxy-windows.html"><link rel="alternate" hrefLang="zh-Hans" href="https://kateiso.dev/blog/posts/installing-comet-with-clash-proxy-windows.html"><link rel="stylesheet" href="/assets/css/styles.css"><link rel="icon" href="/favicon.jpg" type="image/jpeg"><script defer data-domain="kateiso.dev" src="https://plausible.io/js/script.js"></script><script type="application/ld+json">{JSON.stringify(structuredData)}</script></head> <body class=""> <header class="site-header" data-js="nav"> <div class="site-header__inner"> <a class="site-logo" href="/en/index.html">Kateiso</a> <nav class="site-nav" aria-label="Primary navigation"> <button class="site-nav__toggle" type="button" aria-expanded="false" aria-controls="site-menu"> <span class="visually-hidden">Toggle navigation</span> <span class="site-nav__icon" aria-hidden="true"></span> </button> <ul id="site-menu" class="site-nav__list"> <li><a href="/en/projects.html">Projects</a></li><li><a href="/en/blog.html">Blog</a></li><li><a href="/en/photos.html">Photos</a></li><li><a href="/en/contact.html">Contact</a></li> <li class="site-nav__lang"> <a href="/blog/posts/installing-comet-with-clash-proxy-windows.html" aria-label="查看中文版本"> 中文 </a> </li> </ul> </nav> </div> </header> <main> <div class="notice" style="max-width:var(--max-width);margin:var(--spacing-md) auto 0;padding:var(--spacing-sm);border-left:3px solid var(--color-accent);color:var(--color-text-muted);">
English draft is not ready yet. Showing the Chinese version for now.
</div><layout:fragment> <section class="article"> <article> <header class="article__header"> <p class="article__meta">Guide · October 2025</p> <h1>Installing Comet on Windows with Clash Proxy</h1> <p class="article__summary">Run the Comet installer behind Clash for Windows by setting temporary PowerShell proxy vars and avoiding common connection pitfalls.</p> </header>  <p>When running Comet behind Clash for Windows, the installer may fail to fetch dependencies. The simplest workaround is to launch PowerShell with temporary proxy variables so only the installation session is proxied.</p>
<h2 id="steps">Steps</h2>
<ol>
<li>Open PowerShell (Admin) and export proxy variables:</li>
</ol>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="powershell"><code><span class="line"><span style="color:#E1E4E8">$</span><span style="color:#79B8FF">env:</span><span style="color:#E1E4E8">HTTP_PROXY </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "http://127.0.0.1:7890"</span></span>
<span class="line"><span style="color:#E1E4E8">$</span><span style="color:#79B8FF">env:</span><span style="color:#E1E4E8">HTTPS_PROXY </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "http://127.0.0.1:7890"</span></span>
<span class="line"></span></code></pre>
<ol start="2">
<li>
<p>Run the Comet installer from the same session.</p>
</li>
<li>
<p>Clear variables after install:</p>
</li>
</ol>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="powershell"><code><span class="line"><span style="color:#79B8FF">Remove-Item</span><span style="color:#E1E4E8"> Env:\HTTP_PROXY; </span><span style="color:#79B8FF">Remove-Item</span><span style="color:#E1E4E8"> Env:\HTTPS_PROXY</span></span>
<span class="line"></span></code></pre>
<p>This isolates proxy effects and avoids system‑wide changes.</p>  <footer class="article__footer"> <p>合作或共创欢迎联系邮箱 <a href="mailto:C.yibo2@gmail.com">C.yibo2@gmail.com</a>.</p> </footer> </article> </section> </layout:fragment>  </main> <footer class="site-footer"> <div class="site-footer__inner"> <p class="site-footer__brand">© <span data-js="year"></span> Kateiso. All rights reserved.</p> <nav class="site-footer__nav" aria-label="Secondary navigation"> <a href="/en/blog.html">Blog</a> <span aria-hidden="true">·</span> <a href="/en/projects.html">Projects</a> <span aria-hidden="true">·</span> <a href="/en/contact.html">Contact</a> </nav> </div> </footer> <script src="/assets/js/site.js" defer></script> </body> </html>